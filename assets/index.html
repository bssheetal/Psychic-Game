<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
    <h1>Psychic Game</h1>

    <div>
        <p id="directions-text">Guess what letter I'm thinking of</p>
    </div>
    <div id="Score"></div>
    <div class="container">
        <div class="row">

            <div class="col-md-4">
                <p id="Wins">Wins:<p>
            </div>
            <div class="col-md-4">
                <p id="Win-Count">
                    <p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <p id="Losses">Losses:<p>
            </div>
            <div class="col-md-4">
                <p id="Loss-count">
                    <p>
            </div>

        </div>
        <div class="row">
            <div class="col-md-4">
                <p id="Guessesleft">Guesses:<p>
            </div>
            <div class="col-md-4">
                <p id="Guess-count">9
                    <p>
            </div>

        </div>
        <div class="row">
            <div class="col-md-4">
                <p id="Guessedletters">Your Guesses so far:<p>
            </div>
            <div class="col-md-4">
                <p id="Guessedletterplcholder">
                    <p>
            </div>

        </div>
    </div>

    <script type="text/javascript">


        {
            // VARIABLES
            // ==========================================================================              
            //Alphabets are declared an array
            var alphabets = [];
            var first = 97;
            var last = 123;


            //Alphabets are programatically generated and string is converted to array
            for (var i = first; i < last; i++) {
                var str = String.fromCharCode(i);
                alphabets.push(str);

            }
            console.log(alphabets);

            // VARIABLES
            // ==========================================================================   
            //We start the game with wins and losses of 0 with guessattempts only 9 
            var Guess = 9;
            var wins = 0;
            var losses = 0;

            //Function to track the number of Guesses
            function guesstracker() {
                Guess--;
                $("#Guess-count").text(Guess);
            }

            //Function to updatepage after the game
            function updatepage() {
                var Guess = 9;
                $("#Guess-count").text(Guess);
                var wins = 0;
                $("#Win-Count").text(wins);
                var losses = 0;
                $("#Loss-count").text(losses);
                var userGuess = "";
                $("#Guessedletterplcholder").text(userGuess);
            }

            // MAIN PROCESS
            // ==============================================================================

            $(document).ready(function () {
                // When the user presses a key, it will run the following function...
                document.onkeyup = function (event) {
                    var userGuess = event.key;
                    $("#Guessedletterplcholder").append(userGuess);
                    console.log("User's guess is" + userGuess);
                    var computerGuess = alphabets[Math.floor(Math.random() * alphabets.length)];
                    console.log("Computer's guess is" + computerGuess);



                    // If user wins,track the number of wins
                    if (userGuess === computerGuess && Guess != 0) {
                        wins++;
                        guesstracker();
                        $("#Win-Count").text(wins);
                    }

                    // If userlooses,track the number of losses
                    else if (userGuess != computerGuess && Guess != 0) {
                        losses++;
                        guesstracker();
                        $("#Loss-count").text(losses);


                    }

                    // If guessattempts are 9, restart the game
                    else if (Guess == 0) {
                        location.reload();
                        //updatepage();
                    }


                }


            });
        };
    </script>
</body>

</html>