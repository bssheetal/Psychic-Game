<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="css/style.css"></script>
</head>

<body>
    <div class="container bg-white text-black">
            <h1>Psychic Game</h1>   
            <div>
                <p id="directions-text">Guess what letter I'm thinking of</p>
            </div>
            <div class="media">
                    <img class="mr-3" src="https://c401345.ssl.cf1.rackcdn.com/wp-content/uploads/2012/12/no-guessing-game-smartbrief-open-forum-432.jpg" alt="Generic placeholder image">          
                  </div>
        <div class="row">

            <div class="col-md-2">
                <p id="Wins">Wins:<p>
            </div>
            <div class="col-md-1">
                <p id="Win-Count">
                    <p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <p id="Losses">Losses:<p>
            </div>
            <div class="col-md-1">
                <p id="Loss-count">
                    <p>
            </div>

        </div>
        <div class="row">
            <div class="col-md-2">
                <p id="Guessesleft">Guesses:<p>
            </div>
            <div class="col-md-1">
                <p id="Guess-count">9
                    <p>
            </div>

        </div>
        <div class="row">
            <div class="col-md-2">
                <p id="Guessedletters">Your Guesses so far:<p>
            </div>
            <div class="col-md-1">
                <p id="Guessedletterplcholder">
                    <p>
            </div>

        </div>
    </div>

    <script type="text/javascript">


        {
            // VARIABLES
            // ==========================================================================              
            //Alphabets are declared an array
            var alphabets = [];
            var first = 97;
            var last = 123;


            //Alphabets are programatically generated and string is converted to array
            for (var i = first; i < last; i++) {
                var str = String.fromCharCode(i);
                alphabets.push(str);

            }
            console.log(alphabets);

            // VARIABLES
            // ==========================================================================   
            //We start the game with wins and losses of 0 with guessattempts only 9           
            var Guess = 9;
            var wins = 0;
            var losses = 0;
            var GuessedLetters=[];
            //Function to track the number of Guesses
            function guesstracker() {
                if(Guess>0)
                {
                Guess--;
                $("#Guess-count").text(Guess);
                }
                
            }

            //Function to restart game
            function resetgame()
            {
                Guess=9;
                $("#Guess-count").text(Guess);
                GuessedLetters=[];
                $("#Guessedletterplcholder").text(GuessedLetters);
            }
            
            // MAIN PROCESS
            // ==============================================================================

            $(document).ready(function () {
                // When the user presses a key, it will run the following function...
                document.onkeyup = function (event) {
                    var userGuess = event.key;
                    GuessedLetters.push(userGuess);
                    $("#Guessedletterplcholder").text(GuessedLetters);
                    console.log("User's guess is" + userGuess);
                    var computerGuess = alphabets[Math.floor(Math.random() * alphabets.length)];
                    console.log("Computer's guess is" + computerGuess);
                    
                   
                    
                    // If user wins,track the number of wins and restart game
                    if (userGuess===computerGuess) {
                        wins++;
                        $("#Win-Count").text(wins);                       
                        resetgame();

                    }

                    // If userlooses,track the number of losses
                    else  {
                        guesstracker();
                        
                    }
                    
                    // If guessattempts are 9, restart the game
                    if(Guess==0)
                    {
                        losses++;
                        $("#Loss-count").text(losses);
                        resetgame();
                    }
                    
                    
                    

                }
                


            });
        };
    </script>
</body>

</html>